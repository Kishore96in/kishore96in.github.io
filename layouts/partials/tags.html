<!--https://www.jakewiesler.com/blog/hugo-taxonomies-->
<!--Print a list of the tags in the current page-->

{{ $taxonomy := "tags" }}
{{ with .Param $taxonomy }}
	{{ $max_index := len . }}
	<section class="tags_list">
		{{ if gt $max_index 0 }}
		<h1>Tags</h1>
		{{ range $index, $tag := . }}
			{{ with $.Site.GetPage (printf "/%s/%s" $taxonomy $tag) -}}
				{{- if gt $max_index 1 -}}
					<a href="{{ .Permalink }}">{{ $tag }} ({{ $max_index }} posts)</a>
				{{- else -}}
					<a href="{{ .Permalink }}">{{ $tag }} ({{ $max_index }} post)</a>
				{{- end -}}
			{{- end -}}
			{{- if eq $index (math.Sub $max_index 1) -}}
				.
			{{- else -}}
				,
			{{- end -}}
		{{- end }}
		{{ end }}
	</section>
{{ end }}
